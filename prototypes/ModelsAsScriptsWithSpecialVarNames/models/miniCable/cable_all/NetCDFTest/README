Unfortunately this does not work
The reason is probably that the default version of the netcdffortran library is not build for parallel usage. (This would require that we provide a nix expression and builder to build netcdffortran with parallel IO support based on HDF5-mpi) 
The exampel F90 file is from the official netcdf page
https://github.com/Unidata/netcdf-fortran/blob/master/examples/F90/simple_xy_par_wr2.f90
