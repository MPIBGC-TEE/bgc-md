<!DOCTYPE html>
<html>
	<head>
		<script>
		function getOptions() {
		    var x = document.getElementById("sourceSelect");
		    var txt = "";
		    var i;
		    for (i = 0; i < x.length; i++) {
		        txt = txt + " " + x.options[i].text;
		    }
		    document.getElementById("demo").innerHTML = txt;
		}
		function getForm() {
		    var x = document.getElementById("sourceSelect");
		    var txt = "";
		    var i;
		    for (i = 0; i < x.length; i++) {
		        txt = txt + "<option>" + x.options[i].text + "</option>";
		    }
		    txt= '<select id="targetSelect">' + txt +'</select>' 
		    document.getElementById("targetDiv").innerHTML = txt;
		}
		function getForm2() {

		    var x = document.getElementById("sourceSelect");
		    var s = x.cloneNode(true);
		    s.remove(x.selectedIndex)
		    var d=document.getElementById("targetDiv2")
		    l=d.childNodes.length;
		    document.getElementById("demo").innerHTML = l;
		    if (l > 0){
			oldf=d.childNodes[0]
			d.replaceChild(s,oldf);
		    }
		    if (l = 0){
			d.appendChild(s);
		    }
		}
		function getForm3() {

		    var x = document.getElementById("sourceSelect");
		    var s = x.cloneNode(true);
		    s.remove(x.selectedIndex)
		    var d=document.getElementById("targetDiv3")
		    var l=d.childNodes.length;
	            var b = document.createElement("BUTTON");
	            b.id="myBotton"
	            var t = document.createTextNode("Click me");
	            b.appendChild(t);
		    document.getElementById("demo").innerHTML = l;
		    if (l > 1){
			var oldf=d.childNodes[1];
			d.replaceChild(s,oldf);
		    }
		    if (l == 1){
			d.appendChild(s);
	            	d.appendChild(b);
		    	document.getElementById("demo2").innerHTML ="second";
		    }
		}
		</script>
	</head>
<body>
	<form id="sourceForm">
	<select id="sourceSelect">
	  <option>C_1</option>
	  <option>C_2</option>
	  <option>C_3</option>
	  <option>C_4</option>
	</select>
	<input type="button" onclick="getForm3()" value="build form2 ">
	<div id="targetDiv"> </div>
	<div id="targetDiv2"> </div>
	<div id="targetDiv3"> </div>
	<input type="button" onclick="getOptions()" value="Output all options">
	</form>
	
	<p id="demo"></p>
	<p id="demo1"></p>
	<p id="demo2"></p>
	<p id="demo3"></p>
	
	
	
</body>
</html>


